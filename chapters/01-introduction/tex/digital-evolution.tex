\section{Digital Evolution}
\label{chapter:introduction:sec:digital-evolution}

% -- What is digital evolution? --
Digital evolution experiments have emerged as a powerful research framework from which evolution can be studied.
In digital evolution, self-replicating computer programs (digital organisms) compete for resources, mutate, and evolve in a computational environment \citep{wilke_biology_2002}.
In my work, a digital organism comprises a linear sequence of program instructions (a genome) and a set of virtual hardware components used to interpret and express those instructions. 
To reproduce, a digital organism must execute instructions that allow it to copy its genome instruction-by-instruction and then divide (producing an offspring).
However, self-replication is imperfect and can result in mutated offspring.
The combination of heritable variation due to imperfect self-replication and competition for limited resources (\textit{e.g.}, space, CPU time, \textit{etc.}) results in evolution by natural selection.

% -- Digital organisms + artificial environments --
Digital organisms live, interact, and evolve in entirely artificial environments constructed by the experimenters.
One potential drawback to digital evolution is that the conclusions drawn from an experiment have the potential to be artifacts of the constructed artificial environment \citep{wilke_biology_2002}.
This drawback, however, can also be applied to most microbial experimental evolution where organisms are extracted from their natural environment and placed in an artificial environment constructed in a laboratory.

% -- Ancestry drawbacks and benefits --
Microbial model organisms at least have natural ancestry and can often be used to infer historic evolutionary events.
Digital evolution studies, however, are not grounded in the same evolutionary history and biochemical compounds as carbon-based life on Earth.
This limitation makes it more challenging to use digital evolution studies to illuminate idiosyncrasies and contingencies associated with the history of life on our planet. 
However, these drawbacks are also digital evolution's strength as a research framework, since we are not limited to studying only one particular instance of evolution or locked in to using nucleic-acid, amino acid, and protein based representations.
Furthermore, we can fully observe and control digital environments at rapid speeds, allowing us to perform experiments and analyses that would otherwise be challenging or even impossible to perform in biological systems.
Additionally, by reproducing results across biological and digital systems, we can disentangle general principles from effects specific to a particular model organism or planetary body \citep{wilke_biology_2002}.

% -- Section guide --
In the remainder of this section, I provide historical context for digital evolution research, discuss the benefits of experimental digital evolution, and highlight prior digital evolution research related to phenotypic plasticity.

% --------- HISTORICAL CONTEXT ---------
\subsection{Historical context}

% @AML: how to do quotes properly...?
\begin{displayquote}

\textit{Two computer programs in their native habitat---the memory chips of a digital computer---stalk each other from address to address.}  \citep{dewdney_core_wars_1984}

% \begin{flushright}
% A.K. Dewdney describing Core War 
% \end{flushright}
\end{displayquote}

% --- Core War ---
Modern digital evolution systems can be traced back to the 1984 computer game ``Core War'' \citep{dewdney_core_wars_1984}.
In Core War, human competitors use a simplified assembly language (called Redcode) to write ``gladiatorial'' computer programs that compete for space in the simulated core memory of a computer.
To win a bout of Core War, a program must shut down all of the processes associated with its competitor programs.
The most successful programs all engaged in self-replication.
Such replicator programs repeatedly created copies of themselves, each of which repeatedly copied themselves \textit{ad infinitum}. 
Thus, if one copy were to be destroyed by an adversary, other copies would still persist to continue replicating. 
Replicators could grow exponentially in memory, rapidly outcompeting other programs and taking over core memory.
Despite having populations of self-replicating programs and competition, evolution did not occur in Core War because replicators always created perfect copies of themselves.

% --- Core World ---
Inspired by Core War, Rasmussen et al. created Core World \citep{rasmussen_core_1989}.
Core World used the same Redcode language to represent programs, and programs competed in the same computational environment as in Core War.
However, Core World introduced the possibility for random mutations when a program copied itself \citep{rasmussen_core_1989,rasmussen_coreworld_1990}.
That is, the command used by replicator programs to copy themselves was imperfect, sometimes writing a random instruction instead of copying the intended instruction. 
% @AML: who coined 'digital organism'? Credit.
Indeed, Core World succeeded in facilitating the evolution of populations of computer programs. 
However, the Core World system proved to be ill-suited for studying evolution.
Programs written in Redcode were not designed to survive mutations, and as such, accumulated deleterious mutations often drove the populations to extinction.

% --- Tierra: innovations relative to Core War/Core World, major results ---
Thomas Ray's Tierra system \citep{ray_approach_1991} innovated on the design of Core World and facilitated some of the first successful evolution experiments with self-replicating computer programs.
The programming language used to construct the genomes of evolving programs in Tierra was more syntactically robust than Redcode.
As such, genomes in Tierra were more evolvable than those in Core World because mutated daughter programs were less often broken. 
Furthermore, in contrast to Core World, Tierra protected ``living'' programs from being overwritten by their competitors, requiring programs to explicitly request a protected block of memory into which they could copy themselves. 
When the population grew to the environment's carrying capacity, Tierra removed the oldest programs from the population to make room for new programs to be born. 

% --- early studies in Tierra ---
In initial experiments using Tierra, Ray founded populations with an ancestral program capable only of self-replication \citep{ray_approach_1991}.
Competition for space dominated these early studies, resulting in a strong selection pressure for organisms to increase their replication rate. 
Indeed, Ray observed organisms with shorter genomes evolve and outcompete organisms with longer genomes, as shorter genomes could be copied faster because they contained fewer instructions that needed to be copied to produce an offspring.
Ray unexpectedly observed the evolution of obligate parasites---programs that co-opted the copy machinery of their competitors to copy themselves\footnote{
Ray labeled these programs as parasites, but they are more accurately described as cheaters because they did not directly harm the programs whose replication machinery they co-opted.
}. 
An evolutionary arms race ensued.
Would-be ``host'' programs evolved mechanisms for resisting parasites, and in turn, parasites evolved to penetrate those defensive mechanisms.
The richness of observed evolutionary dynamics in Tierra was initially surprising given the simplicity of Tierra's environment.
These initial experiments positioned digital evolution as a promising endeavor for studying evolutionary processes. 

% ---------------------------------------------------------
% ----- notes from original tierra experiment paper -----
% Eventually, obligate commensal parasites evolve, which are not capable of self-replication in isolated culture, but which can replicate when cultured with normal sel-replicating creatures
% These parasites execute some parts of the code of their hosts, but cause them no direct harm, except as competitors.
% Some potential hosts have evolved immunity to the parasites, and some parasites have evolved to circumvent this immunity.
% Facultative hyper-parasites have evolved, which can self-replicate in isolated culture, but when subjective to parasitism, subvert the parasite's energy metabolism to augment their own reproduction.
% Observed evolution of creatures that can only replicate when they occur in aggregations (evolution under circumstances of high genetic relatedness)
% Social aggregations are invaded by cheaters
% Evolutionary dynamics
% Hosts and parasites cultured together demonstrate Lotka-Volterra population cycling
% ---------------------------------------------------------

% --- Avida built on tierra ---
The Avida Digital Evolution Platform expanded on the design of Tierra but added the ability to configure complex environments and sophisticated data tracking tools  \citep{adami_evolutionary_1994,ofria_avida_2004,ofria_avida:_2009}.
In Avida, digital organisms compete for space on a lattice of cells \citep{ofria_avida:_2009}.
When an organism reproduces, its offspring is placed in a nearby cell (or in a random cell if the population is well-mixed), replacing any previous occupant of that cell.
As in Tierra, improvements to the speed of self-replication are advantageous in the competition for space in the environment, and organisms in Avida can improve their replication rates by improving genome efficiency (\textit{e.g.}, using a more compact encoding).
Avida, however, introduced the concept of resources that can be ``metabolized'' by a digital organism to accelerate the rate at which it expresses its genome (\textit{i.e.}, its ``metabolic rate'').
Resources in Avida are associated with completing designated tasks, such as computing Boolean logic functions on inputs from the environment. 
Avida gives experimenters fine-grained control over how resources are configured, including their abundance \citep{cooper_evolution_2002}, spatial distribution \citep{dolson_spatial_2017}, and their metabolic effects \citep{canino-koning_evolution_2016,canino-koning_fluctuating_2019}.

The Avida system is perhaps the most popular digital evolution system to date and is often credited with advancing digital evolution as a model system for conducting scientifically rigorous evolution experiments.
Experimental evolution studies using Avida have been well received, and topics such as the evolution of complexity \citep{adami_evolution_2000,lenski_evolutionary_2003}, sexual recombination \citep{misevic_experiments_2010}, modularity \citep{misevic_sexual_2006}, robustness \citep{lenski_genome_1999,elena_effects_2007}, and division of labor \citep{goldsby_task-switching_2012,goldsby_evolutionary_2014} have been published in top evolutionary biology venues.
Given Avida's track record, I used it to conduct the studies presented in my first two research chapters (Chapters \ref{chapter:evolutionary-origins-of-plasticity} and \ref{chapter:evolutionary-consequences-of-plasticity}).

\subsection{The Benefits of Digital Evolution}
% Benefits of experimental digital evolution

Evolution experiments using digital organisms balance the speed and transparency of mathematical and computational simulations with the open-ended realism of laboratory experiments. 
Here, I overview four properties of digital evolution systems that make them valuable complements to traditional carbon-based model organisms for studying evolutionary processes, providing exemplars of each:

\subsubsection{Generality}
% -- Generality --

% --- What do we mean by generality and why is it useful? --- 
Digital evolution systems offer researchers the unique opportunity to study evolution in organisms that share no ancestry with carbon-based life \citep{wilke_biology_2002}.
As biologist John Maynard Smith made the case, ``So far, we have been able to study only one evolving system and we cannot wait for interstellar flight to provide us with a second. If we want to discover generalizations about evolving systems, we will have to look to artificial ones'' \citep{maynard_smith_byte-sized_1992}.
Indeed, studies of carbon-based lifeforms that all share common ancestry dominate evolutionary biology.
On their own, these studies can provide deeper insights into life on Earth. 
However, such studies provide a limited lens with which to make generalizations about evolutionary processes, as they are biased by the particular history of life on our planet.
%On their own, such studies can provide insights into life on Earth, but are a limited lens with which to observe broader evolutionary processes that are not limed by any biases from the particular history of life on our planet.
By testing hypotheses across biological and digital model systems, we can disentangle general principles from the effects of specific model organisms.  

% @AML: Does this make sense? 
% @AML: This paragraph needs some cleanup.
For example, what is the relative importance of adaptation, chance, and history in explaining diversity in evolved populations? 
Using experimental populations of \textit{Escherichia coli}, Travisano et al. disentangled the relative contributions of adaptation, chance, and history in the evolution of fitness and cell size (a trait weakly correlated with fitness) \citep{travisano_experimental_1995}.
Travisano et al. found that fitness gains were most strongly influenced by adaptive processes, and variance in cell size were most explained by chance and history. 
Wagenaar and Aadmi replicated this study with Avida \citep{wagenaar_influence_2004}, finding that the overall patterns observed in \textit{E. coli} and in digital organisms remained consistent.
Ongoing studies in digital organisms are extending these concepts further, using more restarts at different time points and across different environments, allowing us to explore more of the nuances at play.
% Wagenaar and Adami verified the generality of this finding by replicating the experiment using populations digital organisms \citep{wagenaar_influence_2004}.

\subsubsection{Transparency}

% --- Benefits of data tracking ---
Digital evolution systems allow for perfect, non-invasive data tracking.
Experimenters can save the complete details of evolving populations for further analysis, including every mutation that occurs, every genotype that exists, every phenotype that is expressed, every environmental state that occurs, every time an organism interacts with another organism or with the environment, \textit{et cetera}.
By tracking parent-offspring relationships, we can analyze complete evolutionary histories within an experiment, which circumvents the historical problem of drawing evolutionary inferences using incomplete records (from frozen samples or fossils) and extant genetic sequences.

% --- Lineages + Phylogenies ---
Many digital evolution studies inspect the complete lineages of evolved digital organisms to tease apart the mutation-by-mutation evolution of novel traits \citep{lenski_evolutionary_2003,dolson_spatial_2017,grabowski_case_2013,goldsby_evolutionary_2014,pontes_evolutionary_2020}.
In an exemplary analytical undertaking, Dolson and Ofria identified spatial hotspots of evolutionary potential in heterogeneous environments (\textit{i.e.}, positions where novel traits disproportionately evolved).
They found evidence that the particular \textit{paths} traversed by lineages through space might explain the locations of these evolutionary hotspots \citep{dolson_hotspots_2017}. 
Recently, Dolson et al. reviewed a breadth of ancestry-based metrics and analyses that operate on lineages and phylogenies in an effort to improve our capacity to quantitatively explore evolutionary histories in digital evolution experiments \citep{dolson_interpreting_2020}.

% -- networks --
Recording organism relationships and interactions can be valuable for many other goals as well.
For exmaple, by tracking phenotypes over time, Cooper and Ofria were able to observe the real-time evolution of stable ecosystems under resource-limited conditions \citep{cooper_evolution_2002}.
In a similar vein, Fortuna et al. tracked host-parasite interactions to investigate how the structure of infection networks is shaped by antagonistic coevolution \citep{fortuna_coevolutionary_2019}.


\subsubsection{Control}

% -- Basic configuration --
Digital evolution systems facilitate experimental manipulations that go beyond what is possible in laboratory or field experiments.
These capabilities allow researchers to empirically test hypotheses that would otherwise be relegated to theoretical analyses.
For example, digital evolution systems allow experimenters to precisely control basic parameters such as population size and mutation rate.
By comparing populations evolving under different mutation rates, Wilke et al. discovered the ``survival of the flattest'' effect where high mutation rate environments selected for genomes with slower replication rates but that were more robust to mutations \citep{wilke_flattest_2001}. 

% For example, by controlling population size, LaBar and Adami... \citep{labar_evolution_2017}

% -- Environmental control --
%   - Spatial heterogeneity
%   - Changing environments
Digital evolution experiments also allow for fine-grained control over other aspects of an environment.
For example, Dolson et al. used Avida to experimentally manipulate the spatial distribution of resource availability, finding that phenotypic diversity was positively correlated with spatial entropy and that spatially heterogeneous environments exhibited increased evolutionary potential relative to more homogeneous environments \citep{dolson_spatial_2017}.
By experimentally controlling how environments changed temporally, Nahum et al. demonstrated that a single temporary environmental change can improve fitness landscape exploration and exploitation in evolving populations of digital organisms \citep{nahum_improved_2017}.

% -- Genetic control --
Digital evolution systems also allow experimenters to monitor and manipulate mutational effects in real-time.
Covert et al. performed real-time reversions of all deleterious mutations as they occurred to isolate their long-term effects on evolutionary outcomes \citep{covert_experiments_2013}.
Lalejini et al. implemented a range of slip duplication mutation operators (each designed to isolate a single effect of duplication mutations) in order to tease apart why such mutations can promote the evolution of complex traits \citep{lalejini_gene_2017}.

% -- ??? --
% @AML: becoming exhausted with doing lit review... 

% -- Knockout analyses --
For an individual digital organism, we can perform systematic knockout analyses to identify which instructions are responsible for producing a given phenotypic outcome.
This sort of analysis has been applied along lineages to identify how information accumulates \citep{ofria_gradual_2008} or to investigate how environmental change shapes the evolution of genetic architectures in digital organisms \citep{canino-koning_evolution_2016}.
Mutational landscaping analyses go a step further than knockout analyses, allowing experimenters to fully characterize a local mutational landscape by evaluating all possible one- and two-step mutants.
Such analyses have been used to quantify epistasis \citep{lenski_genome_1999} and mutational robustness \citep{elena_effects_2007} and to investigate the evolution of evolvability \citep{canino-koning_fluctuating_2019}. 

\subsubsection{Scale}

Modern computers allow us to observe many generations of digital evolution at tractable time scales; thousands of generations can take mere minutes as opposed to months, years, or centuries.
For example, populations of digital organisms have been used to test theoretical predictions about the expected rate of adaptation over hundreds of thousands of generations \citep{wiser_analysis_2015,wiser_boundedness_2018}.

Additionally, digital evolution experiments allow researchers to enact complex experimental protocols with minimal extra effort. 
That is, unlike in wet-lab experiments, computational experiment protocols can easily be automated using modern scripting tools. % [cite].
% - Example? -

With the increasing accessibility of high performance computing systems, it can be trivial to evolve hundreds of replicate populations for a given experimental treatment. 
Evolution is an inherently stochastic process, so increased replication provides a clearer picture of the distribution of possible treatment effects. 
Further, a high degree of replication increases the odds that experimenters will be able to observe and study rare events. % 
For example, \cite{pontes_evolutionary_2020} evolved 900 replicate populations of digital organisms in order to observe 10 examples of reversal learning behavior (\textit{i.e.}, the ability to relearn associations between cues and responses when cues are swapped) to further analyze.

Even the fastest computing systems, however, lack the parallelism of the real world.
That is, digital evolution systems cannot yet rival bacterial systems in their ability to scale to large population sizes. 
A typical population of digital organisms contains thousands to tens of thousands of organisms; however, microbial populations used in laboratory experiments often contain several orders of magnitude more individuals.
% \citep{arjan_g_diminishing_1999}.
% (e.g.,  [$10^8$]). 

\subsection{Phenotypically plastic digital organisms}

% -- Plasticity, changing environment --
Phenotypic plasticity has been the subject of many computational evolution studies. % (\textit{e.g.} [citations]).
Here, I focus on previous work using self-replicating computer programs. 
Clune et al. demonstrated that adaptively plastic digital organisms can evolve in Avida under the following conditions:  
a fluctuating environment where conditions are differentiable by reliable cues (sensory instructions), and each condition favors different phenotypic traits (performing different computational tasks) such that no single phenotype exhibits high fitness across all conditions. 
Clune et al. also characterized two mechanisms by which digital organisms tended to achieve phenotypic plasticity.
First, \textit{dynamic-execution-flow} plasticity uses conditional logic statements (\textit{e.g.}, if statements) to modify which instructions are executed based on environmental conditions. 
Second, \textit{static-execution-flow} plasticity integrates sensory information into internal ``metabolic'' pathways such that the same sequence of program instructions is always executed, but produces different behaviors in different environmental conditions.

% -- Groups --
Genetically homogeneous groups of individuals (\textit{e.g.}, cells in a multicellular organism or members of a eusocial insect colony) require phenotypic plasticity to differentiate and coordinate their behavior \citep{schlichting_origins_2003}. 
Indeed, digital evolution studies have demonstrated the \textit{de novo} evolution of adaptive phenotypic plasticity that allows  ``multicellular'' collectives of digital organisms to coordinate their behavior.
Goldsby et al. showed that direct selection for task specialization in clonal groups of digital organisms promotes the evolution of differentiation and division of labor \citep{goldsby_evolution_2010}.
In addition, Goldsby et al. demonstrated that task-switching costs can promote the evolution of division of labor \citep{goldsby_evolution_2010,goldsby_task-switching_2012}.
% -- group coordination --
Digital organisms have also been used to study the evolution of synchronization and desynchronization \citep{knoester_evolution_2011} and the evolution of consensus \citep{knoester_genetic_2013} in groups of genetically homogeneous individuals. %; [both of which [applied algorithms applications like wireless sensor networks]. 

% -- Temporal polyethism --
Digital organisms have also been used to study the evolutionary conditions that give rise to temporal polyethism, a form of behavioral plasticity exhibited by many eusocial insect species whereby the tasks that an individual attempts to perform are correlated with the individual's age.
Goldsby et al. demonstrated that differential task-riskiness is sufficient to promote the evolution of temporal polyethism in genetically homogeneous groups \citep{goldsby_temporal_polyethism_2012}.
Individuals within a group used control-flow instructions to regulate task performance, performing low or no risk tasks early in life and then switching to performing higher risk tasks later in life. 

% -- germ-soma division of labor --
The dirty work hypothesis predicts that the mutagenic effects associated with metabolism can promote the evolution of plasticity in the form of germ--soma differentiation in multicellular organisms \citep{goldsby_evolutionary_2014}.
Goldsby et al. tested the dirty work hypothesis using digital organisms, finding that individuals within a multicellular group used phenotypic plasticity both to differentiate between germ and soma and to efficiently divide mutagenic tasks amongst somatic cells.

% -- quorum sensing --
Quorum sensing is a form of communication used for plasticity in many species of bacteria, allowing individuals to regulate their actions depending on the density of the surrounding population \citep{miller_quorum_2001}. %[citations].
Beckmann et al. demonstrated the evolution of quorum sensing in digital organisms whereby individuals adaptively suppress self-replication based on their local population density \citep{beckmann_evolving_2009,beckmann_evolution_2012}.
Johnson et al. expanded this work, showing that the evolution of quorum sensing can improve the efficacy of adaptive suicidal altruism---a strategy where an altruistic organism dies to increase the fitness of kin---by helping altruistic individuals regulate when to die \citep{johnson_more_2014}.  

% -- predator prey behavioral plasticity --
Using digital organisms, Wagner et al. investigated how predator-prey coevolution influences the subsequent evolution of behavioral plasticity in predator and prey species \citep{wagner_behavioral_2014,wagner_behavioral_2020}.
Wagner et al. found increased sensor reliance and behavioral plasticity in prey that coevolved with predators than in prey that evolved without predators. 
Indeed, prey seemed to exapt genetic components of evolved sense-and-flee predator avoidance strategies for sense-and-retrieve foraging strategies.

% -- so much navigation --
% Right now, not including \citep{elsberry_cockroaches_2009}, but I could add it?
Grabowski et al. tested whether digital organisms could evolve to plastically use information about past experiences for optimal decision making \citep{grabowski2010early}. 
Specifically, an organism's reproductive success was tied to its ability to traverse a nutrient trail.
To follow a trail, organisms needed to sense and react appropriately to environmental cues that indicated how to remain on the trail.
Grabowski et al. found that memory usage evolved only when it provided a substantial advantage; otherwise, organisms tended to adopt reflexive strategies that did not require memory.
Some memory-based strategies relied on an evolved odometry sensor wherein organisms tracked the number of steps taken and their orientation.
Expanding on this work, Grabowski et al. used lineage analyses to disentangle the step-by-step evolution of such odometry-based strategies \citep{grabowski_case_2013}. 

Building on Grabowski et al.'s work, Pontes et al. used digital organisms to investigate the selective pressures that promote more complex forms of plasticity such as the evolution of associative learning \citep{pontes_investigations_2017,pontes_evolutionary_2020}.
Pontes et al. evolved organisms capable of associating novel environmental cues with their meaning in different contexts.
Environments that were stable across generations promoted the evolution of purely reflexive behavior, and environments that varied across generations (but remained stable during an organism's lifetime) promoted the evolution of learning.
Pontes et al. found evidence that reflexive behaviors were a necessary building block for the evolution of learning, indicating that both types of environments were important.  

% ------------ fin lit review ------------

As reviewed above, the majority of prior work investigates diverse forms of phenotypically plastic behaviors in digital organisms, with a focus on the selective pressures that promote their evolution.
A smaller subset of prior work used lineage analyses to illuminate the step-by-step process by which phenotypic plasticity tended to evolve (\textit{e.g.}, \citealt{grabowski_case_2013,goldsby_evolutionary_2014,pontes_evolutionary_2020}). 
% None of these prior studies have empirically toggled the possibility for adaptive plasticity to evolve in order to evaluate its influence on subsequent evolutionary outcomes.
Each of these prior studies have focused on the evolution of adaptive plasticity, but have not emphasized its influence on subsequent evolutionary outcomes.
In the chapters below, I further examine the origins of phenotypic plasticity, extended these analyses to explore the consequences of plasticity of future evolution, and further investigate how to harness plasticity for more applied goals.

% @AML: do I need these last two sentences??
% My work presented in Chapters [x] and [y] build directly on \cite{clune_investigating_2007}.
% In [X], I 


% ? The effects of phenotypic plasticity on adaptive evolution have been disputed, as few studies have been able to observe both the initial patterns of plasticity and the subsequent divergence of traits in natural populations \citep{ghalambor_adaptive_2007,wund_assessing_2012,forsman_rethinking_2015,ghalambor_non-adaptive_2015,hendry_key_2016}.
% Experimental studies investigating the relationship between phenotypic plasticity and evolutionary outcomes can be challenging to conduct in natural systems.
% Such experiments would require the ability to irreversibly toggle plasticity followed by long periods of evolution during which detailed phenotypic data would need to be collected.
% 

