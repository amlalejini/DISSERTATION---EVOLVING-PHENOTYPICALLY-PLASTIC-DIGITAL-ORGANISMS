%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%  Doctor of Philosophy Template
%%%  Approved for Michigan State University
%%%
%%%  Author: Alexander Lalejini
%%%  Email:  amlalejini@gmail.com
%%%
%%%  Advisor: Charles Ofria
%%%  Committee:
%%%     - Wolfgang Banzhaf
%%%     - Christoph Adami
%%%     - Richard Lenski
%%%
%%%  Last Edit:  <Keep track of your last edit date.>
%%%
%%%  Resume With: <Give yourself a pointer where to pick up.>
%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Define the actual document parameters:
\documentclass[12pt,letterpaper,twoside]{report}


%%%  Include packages used throughout the dissertation:
\usepackage{adjustbox}
\usepackage{afterpage}
% \usepackage{algpseudocode}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{array}
\usepackage{booktabs}
\usepackage{calc}
\usepackage[usenames,dvipsnames]{color}
\usepackage{comment}
\usepackage{csquotes}
\usepackage{epsfig}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{graphics}
\usepackage[hmarginratio=1:1,margin=1in]{geometry}
\usepackage{indentfirst}
\usepackage{layout}
\usepackage{listings}
\usepackage{multirow}
\usepackage{moreverb}
\usepackage{natbib}
\usepackage{pdflscape}
\usepackage{rotating}
\usepackage{setspace}
\usepackage{subcaption}
\usepackage{tabulary}
\usepackage{tabularx}
\usepackage{tabu}
% \usepackage[euler]{textgreek}
\usepackage[flushleft]{threeparttable}
\usepackage{tocloft}
\usepackage{url}
\usepackage{hyperref}
\usepackage[table]{xcolor}
% \usepackage [latin1]{inputenc}

%%% Colors for tracking changes. %%%
%%% Use: \cut{<Text you want to cut.>} -> Makes the text red.
%%% Great for tracking changes that you send to advisor/committee.
\newcommand*\cut{\textcolor{red}}
\newcommand*\add{\textcolor{ForestGreen}}
\newcommand*\alter{\textcolor{blue}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Use the following to format your titles for the Table of Contents, List of Figures, List of Tables. 
%\renewcommand{\cfttoctitlefont}{\normalfont\Large\bfseries\MakeUppercase}
% ---- 2021-05-06 - pre-msu-revision ----
% \setlength{\cftbeforetoctitleskip}{-0.2in}
% \setlength{\cftaftertoctitleskip}{0.1875in}
% ------
\setlength{\cftaftertoctitleskip}{-0.1in}
\setlength{\cftbeforetoctitleskip}{-0.65in}
\renewcommand{\cfttoctitlefont}{\hfill\Large\bfseries}
\renewcommand{\cftaftertoctitle}{\hfill}
\renewcommand{\contentsname}{\large\begin{center}{TABLE OF CONTENTS}\end{center}}

% Add dot leaders to the chapter entries in the TOC
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}

\setlength{\cftbeforeloftitleskip}{-0.17in}
\setlength{\cftafterloftitleskip}{0.1875in}
\renewcommand{\cftloftitlefont}{\hfill\Large\bfseries}
\renewcommand{\cftafterloftitle}{\hfill}
\renewcommand{\listfigurename}{\large\centering{LIST OF FIGURES}}

\setlength{\cftbeforelottitleskip}{-0.33in}
\setlength{\cftafterlottitleskip}{0.3875in}
\renewcommand{\cftlottitlefont}{\hfill\Large\bfseries}
\renewcommand{\cftafterlottitle}{\hfill}
\renewcommand{\listtablename}{\large\centering{LIST OF TABLES}}

%%% Bibliography setup for TOC and The Final Page %%%%
\renewcommand{\bibname}{\vspace*{-0.95in} \large\centering{BIBLIOGRAPHY}}

%%% Put colon after figure number in the list of figures %%%
\renewcommand{\cftfigpresnum}{Figure\ }
\renewcommand{\cftfigaftersnum}{:\ }

%%% Put Table before and colon after table number in the list of tables %%%
\renewcommand{\cfttabpresnum}{Table\ }
\renewcommand{\cfttabaftersnum}{:\ }

% Put spacing after the Table #: and Figure #: in the LOF and LOT
\newlength{\mylenf}
\settowidth{\mylenf}{\cftfigpresnum}
\setlength{\cftfignumwidth}{\dimexpr\mylenf+0.35in}
\setlength{\cfttabnumwidth}{\dimexpr\mylenf+0.35in}

% Use this in conjunction with making the LOT singlespace so that long table entries are 
% single space within entries and double space between entries
\renewcommand\cfttabafterpnum{\vskip\baselineskip}

%%% Put Chapter before number in the TOC %%%
\renewcommand\chaptername{Chapter}
\renewcommand\cftchappresnum{\chaptername\space}
\setlength{\cftchapnumwidth}{\widthof{\textbf{Chapter~999~}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\fancypagestyle{mylandscape}{%
  \fancyhf{}% Clear header/footer
  \fancyfoot{% Footer
    \makebox[\textwidth][r]{% Right
      \rlap{\hspace{-.13in}%\footskip}% Push out of margin by \footskip
        \smash{% Remove vertical height
          \raisebox{\dimexpr.5\baselineskip+\footskip+.66\textheight}{% Raise vertically
            \rotatebox{90}{\thepage}}}}}}% Rotate counter-clockwise
  \renewcommand{\headrulewidth}{0pt}% No header rule
  \renewcommand{\footrulewidth}{0pt}% No footer rule
}

%%% Renew command for full page figures:
\renewcommand{\topfraction}{1.0}

% Blank page (if needed)
\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \addtocounter{page}{-1}%
    \newpage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Links to supplemental materials.
%%% (Replaceable here so you can switch to Youtube videos for your committee. 
%%% Saves you from having to go back through your individual chapters.
%%% Define a new command: \def \your command name here> {<Your text to place here.>}
% \def \cthreevideos {Videos of selected behaviors are available in the supplementary materials.  }

% \def \cfivevideos {Videos of selected behaviors are available in the supplementary materials. }

% \def \csixvideos {Videos of selected behaviors are available in the supplementary materials. }

% \def \ceightvideos {Videos of selected behaviors are available in the supplementary materials.  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%  Set the margins as required by the MSU graduate school. 
%%%  Specifically, set the margins 1 inch top bottom and right, 
%%%  1.5 inch on left.  Now, Latex has margin origins at 1 in on the top 
%%%  and left so for 1.5 in the margin is set at 1.5 - 1 = .5 inch
%\setlength{\oddsidemargin}{.5in}   % This is the left margin for both
%\setlength{\evensidemargin}{1.5in} % even and odd pages (in case you use the book format)
\setlength{\topmargin}{0in} % Top margin (remember latex starts from 1 in)

% Pagewidth(8.5in) - textwidth(6in) - leftmargins(1.5in) = 1 inch for right margin
\setlength{\textwidth}{6.5in}

% Page height (11in) - Topmargin (1in) - Textheight (1in) = 1 in for
%                                                      bottom margin
\setlength{\textheight}{9in} %
\setlength{\footskip}{.5in}
%%% Headings are not required, thus suppress:
\setlength{\headheight}{0in} 
\setlength{\headsep}{0in}

\newsavebox{\savefig}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%  Include any definitions you wish to use throughout the dissertation:
\input{definitions}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%  Begin the actual dissertation:
\begin{document}
\sloppy
\pagenumbering{gobble}

%\layout

%%%  Title Page:
\begin{titlepage}
\begin{center}
\ \\[1in]%
\MakeUppercase{\thesisTitle}\\
\begin{doublespace}
By\\ %
\authorName \\[4.5 in]%[2.5 in] %
A DISSERTATION \\ % Check regulations for Masters
\end{doublespace}

Submitted to \\ Michigan State University \\ in partial
fulfillment of the requirements \\ 
for the degree of\\
\begin{doublespace}
\end{doublespace}

%Change the next line as needed for your degree

Computer Science - Doctor of Philosophy; \\
Ecology, Evolution, and Behavior - Dual Major - Doctor of Philosophy 
\vspace{\baselineskip}

%put in the appropriate year
\graduationYear\\

\end{center}
\end{titlepage}
\newpage

%%% Set the page numbering scheme:
\pagenumbering{roman}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% == Abstract ==
\thispagestyle{empty} \setcounter{page}{4}
\begin{doublespace}
\begin{centering}
ABSTRACT \\ %
\MakeUppercase{\thesisTitle} \\ %
By \\ %
\authorName \\ %
\end{centering}

\input{abstract}

\end{doublespace}
\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\addtocounter{page}{-2}%

%%%%  Copyright page:
\thispagestyle{empty}
\mbox{}\vspace{6in}\\
\begin{flushright}
Copyright by \\
\MakeUppercase{\authorName} \\
\graduationYear \\
\end{flushright}
\newpage


%%%%  Dedication:
\begin{centering}
\ \vfill

\input{dedication}

\vfill
\end{centering}
\newpage


%%%%  Acknowledgements:
\begin{centering}
\vspace{5ex}
ACKNOWLEDGEMENTS \par
\end{centering}
\vspace{\baselineskip}

\begin{doublespace}

\input{acknowledgements}

\end{doublespace}
\newpage


\begin{singlespace}
\tableofcontents %

\newpage

%%%  List of tables:
\addcontentsline{toc}{chapter}{LIST OF TABLES}

\begin{singlespace}
\raggedbottom
\listoftables
\end{singlespace}


\newpage

%%%  List of Figures:
\addcontentsline{toc}{chapter}{LIST OF FIGURES}

\makeatletter
\let\l@figureOLD \l@figure
\renewcommand{\l@figure}{\vspace{\baselineskip}\l@figureOLD}
\makeatother
\addtocontents{lof}{\vspace*{-\baselineskip}}
\raggedbottom

\listoffigures

\setlength{\topmargin}{0in}
\newpage
\setlength{\parskip}{0 cm} \setlength{\topmargin}{0in}
\end{singlespace}

%%%  This concludes the mandatory formatting for a dissertation.
%%%  Now, reset the page counter, and use arabic numerals for the remainder:
\setcounter{page}{1}\pagenumbering{arabic}


%%%  Last few formatting commands:
\setlength{\parindent}{2 em}
\begin{doublespace}



%% Change this for spacing:
%\onehalfspacing
\linespread{1.2}

%%%  Include the chapters of your dissertation:
%%% Use format: \include{<file here>(No Extension)}

\begin{raggedbottom}
\include{chapters/01-introduction/main}
\include{chapters/02-evolutionary-origins-of-plasticity/main}
\include{chapters/03-evolutionary-consequences-of-plasticity/main}
\include{chapters/04-evolving-event-driven-programs-with-signalgp/main}
\include{chapters/05-tag-based-genetic-regulation/main}
\include{chapters/06-tag-access-memory/main}
\include{chapters/07-conclusion/main}
\end{raggedbottom}

%%%  Appendices, if necessary:

% \begin{centering}
% \vfill
% \appendix{APPENDICES}                      %Make sure the names in
% \addcontentsline{toc}{chapter}{APPENDICES} %brackets match
% \vfill
% \end{centering}
% \newpage
% \input{appendix/appendix} %====Put you Appendix text here
% \clearpage


%\pagenumbering{gobble}% Remove page numbers (and reset to 1)
%%%  Bibliography:
\addcontentsline{toc}{chapter}{BIBLIOGRAPHY}

\newpage
\vspace*{\fill}
\begin{center}
BIBLIOGRAPHY
\vspace*{\fill}
\end{center}

\newpage
\begin{singlespace}
\bibliographystyle{apalike}% your bst file here
\bibliography{references,software} %your bib file here
\end{singlespace}
\end{doublespace}
\end{document}
